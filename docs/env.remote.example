# Remote profile example

`psgit` manages per-environment settings in `~/.psgit/profiles.json`. Create a remote entry with `psgit profile set` and feed it to any command via `STACK_PROFILE=<profile> â€¦`.

```bash
# Add or update a staging profile
psgit profile set staging \
  --set powersync.endpoint=https://powersync-staging.example.com \
  --set powersync.token=<service-token-or-jwt> \
  --set supabase.url=https://your-project.supabase.co \
  --set supabase.anonKey=<anon-key> \
  --set supabase.serviceRoleKey=<service-role-key>

# Optional extras
psgit profile set staging \
  --set supabase.email=staging-bot@example.com \
  --set supabase.password=<supabase-password>

# Run workspace commands against staging
STACK_PROFILE=staging pnpm --filter @app/explorer dev
pnpm --filter @app/explorer test:e2e:staging
STACK_PROFILE=staging pnpm live:validate
```

Resulting profile JSON (for reference):

```json
{
  "staging": {
    "powersync": {
      "endpoint": "https://powersync-staging.example.com",
      "token": "<service-token-or-jwt>"
    },
    "supabase": {
      "url": "https://your-project.supabase.co",
      "anonKey": "<anon-key>",
      "serviceRoleKey": "<service-role-key>",
      "email": "staging-bot@example.com",
      "password": "<supabase-password>"
    }
  }
}
```
